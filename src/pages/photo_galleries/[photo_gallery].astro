---
import ArticleOfText from "../../layouts/ArticleOfText.astro";
import Layout from "../../layouts/Layout.astro";
import {
    galleryList,
    getGalleryPhotoList,
    getGalleryPhotoUri,
    getGalleryTextName,
} from "../../galleries";

export function getStaticPaths() {
    return galleryList.map((photo_gallery) => {
        return { params: { photo_gallery } };
    });
}

const { photo_gallery = "" } = Astro.params;

const photos = getGalleryPhotoList(photo_gallery).map((photo) =>
    getGalleryPhotoUri(photo_gallery, photo)
);

const name = getGalleryTextName(photo_gallery);
---

<Layout title={`M31U - ${name}`}>
    <ArticleOfText>
        <Fragment slot="title">{name}</Fragment>
        <Fragment slot="body">
            {
                photos.map((photo) => {
                    return <img src={photo} />;
                })
            }
        </Fragment>
    </ArticleOfText>
</Layout>
